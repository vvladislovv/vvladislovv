name: CodeTime Stats
on:
  schedule:
    - cron: "0 21 * * *" # –ó–∞–ø—É—Å–∫ –≤ 00:00 MSK (21:00 UTC)
  workflow_dispatch: # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.GH_TOKEN }}

      - name: Fetch CodeTime Data
        run: |
          pip install requests
          python codetime_stats.py

      - name: Commit changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "üìä Update CodeTime stats"
          token: ${{ secrets.GH_TOKEN }}
